import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

from sklearn.preprocessing import LabelEncoder
from sklearn.feature_selection import chi2



df = pd.read_csv("loandata.csv")
print(df.head())


df = df[['Gender', 'Married', 'Dependents', 'Education',
         'Self_Employed', 'Credit_History', 'Property_Area',
         'Loan_Status']]

print(df.head())


le = LabelEncoder()

for col in df.columns:
    df[col] = le.fit_transform(df[col])



X = df.iloc[:, :-1]   
y = df.iloc[:, -1]    



chi_scores, p_values = chi2(X, y)



p_value_df = pd.Series(p_values, index=X.columns)


p_value_df = p_value_df.sort_values(ascending=True)

print(p_value_df)



p_value_df.plot(kind='bar')
plt.xlabel("Features")
plt.ylabel("p-value")
plt.title("Chi-Square Feature Selection based on p-values")
plt.show()
